---
import BaseLayout from "../layouts/BaseLayout.astro";
import { getCollection } from "astro:content";
import GalleryGrid from "../components/GalleryGrid.astro";

const all = await getCollection("portfolio");
const featured = all.filter((x) => x.data.featured).slice(0, 6);
---

<BaseLayout title="Home">
  <section class="box">
    <h1 style="margin-top: 0;">Visit Fresno Photography</h1>
    <p class="small" style="max-width: 72ch;">
      Wildlife and human-powered adventure — ski mountaineering, climbing,
      mountain biking — photographed with a focus on quiet light and real
      places.
    </p>

    <p class="small">
      <a href="/portfolio">View Portfolio</a> &nbsp;•&nbsp;
      <a href="/prints">Shop Prints</a>
    </p>
  </section>

  <div class="hr"></div>

  <section>
    <div
      style="display:flex; justify-content:space-between; align-items:baseline; gap:12px; margin-bottom: 12px;"
    >
      <h2>Featured</h2>
      <a class="small" href="/portfolio">All work →</a>
    </div>
    <GalleryGrid items={featured} />
  </section>
</BaseLayout>
